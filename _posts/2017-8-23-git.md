---
layout: post
title: Git Push Suggestion
date: 2017-8-22
categories: blog
tags: [技术总结]
description: git usage
---

## 在github新建分支安全操作

Doing carefully is better than fixing after errors happen

```
git checkout -b <branch_name>  新建分支    这是两句 git branch <branch_name> 和git checkout <branch_name> 的和
git add -A
git commit -m "×××××"
git push
git push --set-upstream origin <branch_name>   push到新建分支上
git checkout master      check到master分支
git merge <branch_name>   合并修改 <branch_name>和master指向同一个修改，merge后的修改，如果冲突需要手工修改
git branch -d test     删除本地分支
git push origin --delete <branch_name>   删除远程分支(github)上的分支
```

## windows中git配置代理

git config --global http.proxy http://127.0.0.1:8087

git config --global https.proxy https://127.0.0.1:8087

使用https链接
git remote add origin https://github.com/username/××.git

## 版本回退

1. Just modify file in working directory but not add to temporary directory

```
git checkout -- <filename>
git clean -xdf
```

2. Add to temporary directory but not commit

```
git reset HEAD <filename> // unstage modification，如果是全部文件使用 . 符号
git checkout -- <filename>
```

3. Commit finished

```
git log
git reset --hard HEAD^
```

## 保存当前分支修改

使用下面的命令可以在不commit当前分支的基础上，切换到另外一个分支

```
git stash
```

切回主分支（stash所在分支），然后键入```git stash pop```

## 将当前在master下的修改push到dev分支上

```
git stash // Hide away your changes (basically making a temporary commit),
git checkout {another-branch}
git pop // Pop re-applies them
```

如果整个work tree都乱了，那就

```
# Unstage everything (warning: this leaves files with conflicts in your tree)
git reset
# Add the things you *do* want to commit here _manually_ using gedit or vim
git add -p     # or maybe git add -i
git commit
```

如果只是某几个文件无法自动merge，那就

```
git checkout -- <filename1>
# Add the things you *do* want to commit here _manually_ with gedit or vim
git add -p     # or maybe git add -i
git commit
```

由于original-branch分支还没有处理，现在切回原来分支：
```
# The stash still exists; pop only throws it away if it applied cleanly
git checkout original-branch
git stash pop
# Add the changes meant for this branch
git add -p 
git commit
# And throw away the rest
git reset --hard
```

## Git Submodule

用于两个独立的git目录，其中一个用到了另外一个。二者可以是同级的关系，也可以是父子目录的关系。(You want to be able to treat the two projects as separate yet still be able to use one from within the other.This lets you clone another repository into your project and keep your commits separate.)
