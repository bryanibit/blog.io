<!DOCTYPE html>
<html lang="en">

<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="于华超">

    <title>Git Push Suggestion - 屋顶上的鱼</title>

    <link rel="canonical" href="http://localhost:4000/blog/2017/08/22/git/">

    <!-- Icons -->
    <link rel="shortcut icon" href="img/favicon.ico">

    <!-- Bootstrap Core CSS -->
    <link rel="stylesheet" href="/css/bootstrap.min.css">

    <!-- Custom CSS -->
    <link rel="stylesheet" href="/css/clean-blog.css">

    <!-- Pygments Github CSS -->
    <link rel="stylesheet" href="/css/syntax.css">

    <!-- Custom Fonts -->
    <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css" rel="stylesheet" type="text/css">
    <link href='//fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic' rel='stylesheet' type='text/css'>
    <link href='//fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800' rel='stylesheet' type='text/css'>

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

</head>



<link rel="shortcut icon" type="image/png" href="img/favicon.png">
</link>

<body ontouchstart="">

    <!-- Navigation -->
<nav class="navbar navbar-default navbar-custom navbar-fixed-top">
    <div class="container-fluid">
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header page-scroll">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="/">屋顶上的鱼</a>
        </div>

        <!-- Collect the nav links, forms, and other content for toggling -->
        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
            <ul class="nav navbar-nav navbar-right">
                <li>
                    <a href="/">Home</a>
                </li>
                
                <li>
                    <a href="/about/">About</a>
                </li>
                
                <li>
                    <a href="/archive/">Archive</a>
                </li>
                
                <li>
                    <a href="/milestone/">milestone</a>
                </li>
                
                <li>
                    <a href="/tags/">Tags</a>
                </li>
                
            </ul>
        </div>
        <!-- /.navbar-collapse -->
    </div>
    <!-- /.container -->
</nav>


    <!-- Post Header -->
<style type="text/css">
    header.intro-header{
        background-image: url('/img/black.jpg')
    }
</style>
<header class="intro-header" >
  

    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <div class="post-heading">
                    <div class="Tags">
                        
                        <a class="tag" href="/Tags/#技术总结" title="技术总结">技术总结</a>
                        
                    </div>
                    <h1>Git Push Suggestion</h1>
                    
                    <span class="meta">Posted by Bryan on August 22, 2017</span>
                </div>
            </div>
        </div>
    </div>
</header>




<!-- Post Content -->
<article>
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1 post-container">

                <h2 id="在github新建分支安全操作">在github新建分支安全操作</h2>

<p>Doing carefully is better than fixing after errors happen</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git checkout -b &lt;branch_name&gt;  新建分支并将当前分支带到新建分支,git branch &lt;branch_name&gt;和git checkout &lt;branch_name&gt;
git add -A
git commit -m "×××××"
git push
git push --set-upstream origin &lt;branch_name&gt;   push到新建分支上
git checkout master      check到master分支
git merge &lt;branch_name&gt;   合并修改 &lt;branch_name&gt;和master指向同一个修改，merge后的修改，如果冲突需要手工修改
git branch -d test     删除本地分支
git push origin --delete &lt;branch_name&gt;   删除远程分支(github)上的分支
</code></pre></div></div>

<h2 id="windows中git配置代理">windows中git配置代理</h2>

<p>git config –global http.proxy http://127.0.0.1:8087</p>

<p>git config –global https.proxy https://127.0.0.1:8087</p>

<p>使用https链接
git remote add origin https://github.com/username/××.git</p>

<h2 id="版本回退">版本回退</h2>

<ul class="task-list">
  <li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" disabled="disabled" />Just modify file in working directory but not add to temporary directory</li>
</ul>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git checkout -- &lt;filename&gt; // undo modified
git clean -xdf // delete new files
</code></pre></div></div>

<ul class="task-list">
  <li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" disabled="disabled" />Add to temporary directory but not commit</li>
</ul>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>//unstage modification，如果是全部文件使用 . 符号；使用--代替HEAD，对于没有commit的仓库
git reset HEAD &lt;filename&gt; 
git checkout -- &lt;filename&gt;
</code></pre></div></div>

<ul class="task-list">
  <li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" disabled="disabled" />Commit finished</li>
</ul>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git log
git reset --hard HEAD^
</code></pre></div></div>

<h2 id="保存当前分支修改">保存当前分支修改</h2>

<p>使用下面的命令可以在不commit当前分支的基础上，切换到另外一个分支</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git stash
</code></pre></div></div>

<p>切回主分支（stash所在分支），然后键入<code class="highlighter-rouge">git stash pop</code></p>

<h2 id="将当前在master下的修改push到dev分支上">将当前在master下的修改push到dev分支上</h2>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git stash // Hide away your changes (basically making a temporary commit),
git checkout {another-branch}
git pop // Pop re-applies them
</code></pre></div></div>

<p>如果整个work tree都乱了，那就</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code># Unstage everything (warning: this leaves files with conflicts in your tree)
git reset
# Add the things you *do* want to commit here _manually_ using gedit or vim
git add -p     # or maybe git add -i
git commit
</code></pre></div></div>

<p>如果只是某几个文件无法自动merge，那就</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git checkout -- &lt;filename1&gt;
# Add the things you *do* want to commit here _manually_ with gedit or vim
git add -p     # or maybe git add -i
git commit
</code></pre></div></div>

<p>由于original-branch分支还没有处理，现在切回原来分支：</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code># The stash still exists; pop only throws it away if it applied cleanly
git checkout original-branch
git stash pop
# Add the changes meant for this branch
git add -p 
git commit
# And throw away the rest
git reset --hard
</code></pre></div></div>

<h2 id="git-submodule">Git Submodule</h2>

<p>用于两个独立的git目录，其中一个用到了另外一个。二者可以是同级的关系，也可以是父子目录的关系。(You want to be able to treat the two projects as separate yet still be able to use one from within the other.This lets you clone another repository into your project and keep your commits separate.)</p>

<h2 id="git-push-and-merge-local-branch">git push and merge local branch</h2>

<blockquote>
  <p>When push.default is set to ‘matching’, git will push local branches to
the remote branches that already exist with the same name.</p>
</blockquote>

<p>当 push.default 的值设置成 ‘matching’ ，git 将会推送所有本地已存在的同名分支到远程仓库</p>

<p>从 Git 2.0 开始，git 采用更加保守的值’simple’，只会推送当前分支到相应的远程仓库，’git pull’ 也将值更新当前分支。</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git config --global push.default simple //同步当前分支
git config --global push.default matching //同步与当前工作区相同名称的所有分支
</code></pre></div></div>

<h2 id="git删除远程或本地分支">git删除远程或本地分支</h2>

<p>Deleting a remote branch:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git push origin --delete &lt;branch&gt;  # Git version 1.7.0 or newer
git push origin :&lt;branch&gt;          # Git versions older than 1.7.0
</code></pre></div></div>

<p>Deleting a local branch:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>git branch --delete &lt;branch&gt;
git branch -d &lt;branch&gt; # Shorter version
git branch -D &lt;branch&gt; # Force delete un-merged branches
</code></pre></div></div>


                <hr>

                <ul class="pager">
                    
                    <li class="previous">
                        <a href="/blog/2017/08/22/linux-smalltool/" data-toggle="tooltip" data-placement="top" title="Linux small tools">&larr; Previous Post</a>
                    </li>
                    
                    
                    <li class="next">
                        <a href="/blog/2017/08/29/kalman/" data-toggle="tooltip" data-placement="top" title="Kalman Filter">Next Post &rarr;</a>
                    </li>
                    
                </ul>

                <!-- Duoshuo Share start -->
                <style>
                    .ds-share{
                        text-align: right;
                    }

                    @media only screen and (max-width: 700px) {
                        .ds-share {

                        }
                    }
                </style>

                <div class="ds-share"
                    data-thread-key="/blog/2017/08/22/git" data-title="Git Push Suggestion"
                    data-images="http://localhost:4000/img/black.jpg"
                    data-content="在github新建分支安全操作

Doing carefully is better than fixing after errors happen

g... | Microdust:Azeril's blog"
                    data-url="http://localhost:4000/blog/2017/08/22/git/">
                    <div class="ds-share-inline">
                      <ul  class="ds-share-icons-16">

                        <!-- <li data-toggle="ds-share-icons-more"><a class="ds-more" href="#">分享到：</a></li> -->
                         <!-- <li><a class="ds-wechat flat" href="javascript:void(0);" data-service="wechat">微信</a></li>-->
                        <!-- <li><a class="ds-weibo flat" href="javascript:void(0);" data-service="weibo">微博</a></li> -->
                        <!-- <li><a class="ds-douban flat" href="javascript:void(0);" data-service="douban">豆瓣</a></li> -->
                      </ul>
                      <div class="ds-share-icons-more">
                      </div>
                    </div>
                <hr>
                </div>
                <!-- Duoshuo Share end-->


                <!-- 多说评论框 start -->
                <div class="comment">
                    <div class="ds-thread" data-thread-key="/blog/2017/08/22/git" data-title="Git Push Suggestion" data-url="http://localhost:4000/blog/2017/08/22/git/"></div>
                </div>
                <!-- 多说评论框 end -->
            </div>
        </div>
    </div>
</article>


<!-- mathjax script -->
<script type="text/javascript"
    src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>

<!-- 多说公共JS代码 start (一个网页只需插入一次) -->
<script type="text/javascript">
var duoshuoQuery = {short_name:"cnfeat"};
    (function() {
        var ds = document.createElement('script');
        ds.type = 'text/javascript';ds.async = true;
        ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
        ds.charset = 'UTF-8';
        (document.getElementsByTagName('head')[0]
         || document.getElementsByTagName('body')[0]).appendChild(ds);
    })();
</script>
<!-- 多说公共JS代码 end -->

<!-- async load function -->
<script>
    function async(u, c) {
      var d = document, t = 'script',
          o = d.createElement(t),
          s = d.getElementsByTagName(t)[0];
      o.src = u;
      if (c) { o.addEventListener('load', function (e) { c(null, e); }, false); }
      s.parentNode.insertBefore(o, s);
    }
</script>

<!-- anchor-js, Doc:http://bryanbraun.github.io/anchorjs/ -->
<script>
    async("http://cdn.bootcss.com/anchor-js/1.1.1/anchor.min.js",function(){
        anchors.options = {
          visible: 'always',
          placement: 'right',
          icon: '#'
        };
        anchors.add().remove('.intro-header h1').remove('.subheading');
    })
</script>
<style>
    /* place left on bigger screen */
    @media all and (min-width: 800px) {
        .anchorjs-link{
            position: absolute;
            left: -0.75em;
            font-size: 1.1em;
            margin-top : -0.1em;
        }
    }
</style>


    <!-- Footer -->
<footer>
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <ul class="list-inline text-center">
                    <!-- kill the Facebook and Weibo -->
                    <li>
                        <a href="/feed.xml">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa fa-rss fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
                    

                    
                    
                    <!--
                    
                    -->

                    <!--
                    
                    -->

                    
                    <!--
                    
                    -->

                </ul>
                <p class="copyright text-muted">
                &copy; 2018  Bryan ❖ Powered by Jekyll.
                </p>
            </div>
        </div>
    </div>
</footer>

<!-- jQuery -->
<script src="/js/jquery.min.js "></script>

<!-- Bootstrap Core JavaScript -->
<script src="/js/bootstrap.min.js "></script>

<!-- Custom Theme JavaScript -->
<script src="/js/clean-blog.min.js "></script>



<!-- Highlight.js -->
<script>
    async("http://cdn.bootcss.com/highlight.js/8.6/highlight.min.js",function(){
        hljs.initHighlightingOnLoad();
    })
</script>
<link href="http://cdn.bootcss.com/highlight.js/8.6/styles/github.min.css" rel="stylesheet">


</body>

</html>
